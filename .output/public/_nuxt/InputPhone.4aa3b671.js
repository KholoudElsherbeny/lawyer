import{E as N,a as P}from"./vee-validate.esm.a5d21a4f.js";import{j as $,a as h,ac as B,w as F,E as I,J as n,K as d,H as L,Z as M,L as s,Q as b,a5 as y,U as v,u as o,X as z,G as A,W as G,S as k,I as R,R as S,b as T}from"./swiper-vue.6e12f478.js";import{u as U}from"./useAPILazyFetch.94301d64.js";const j={for:"phone_nubmer",class:"label"},D={class:"phone_wrapper_content relative flex items-center"},H={class:"flex items-center font-medium"},J=["src"],K={class:""},Q=["onClick"],W=["src"],X={class:"text-sm"},Y={class:"phone_input flex-1 border-s border-text-dark ps-2"},Z=["placeholder"],oe={__name:"InputPhone",props:["modelValue","name","label"],emits:["code_change","update:modelValue"],async setup(u,{emit:p}){let c,f;const w=u,m=$({get(){return w.modelValue},set(e){p("update:modelValue",e)}}),g=h(null),{data:V}=([c,f]=B(()=>U("general/countries",{method:"GET"})),c=await c,f(),c);F(V,e=>{e&&(g.value=e.data,t.value=e.data[0],p("code_change",t.value))});const t=h(null),l=h(!1);I(()=>{document.addEventListener("click",function(e){e.target.id!=="dropdown_menu"&&(l.value=!1)})});function x(e){t.value=e,p("code_change",e)}return(e,a)=>{const C=N,E=P;return n(),d("div",null,[L(E,{name:u.name,modelValue:o(m),"onUpdate:modelValue":a[3]||(a[3]=_=>T(m)?m.value=_:null)},{default:M(({field:_,meta:i})=>[s("div",{class:b(["phone_wrapper",{error:!i.valid&&i.touched}]),onClick:a[2]||(a[2]=y(()=>{},["stop"]))},[s("label",j,v(e.$t("labels.phoneNubmer")),1),s("div",D,[o(t)?(n(),d("div",{key:0,class:"me-2 static cursor-pointer",onClick:a[0]||(a[0]=r=>l.value=!o(l))},[s("p",H,[(n(),d("img",{class:"me-1",key:o(t).id,src:o(t).image,alt:"flag",width:"25",height:"22"},null,8,J)),z(" +"+v(o(t).phone_code),1)]),s("div",{id:"dropdown_menu",class:b(["dropdown_menu z-30",{active:o(l)}])},[(n(!0),d(A,null,G(o(g),r=>(n(),d("div",{key:r.id},[s("ul",K,[s("li",{onClick:q=>x(r),class:"flex items-center ps-3 pe-1 py-3 cursor-pointer mx-1 border-b border-gray-200 hover:bg-gray-200"},[s("img",{class:"me-1",src:o(t).image,alt:"flag",width:"25",height:"20"},null,8,W),s("span",X," +"+v(r.phone_code),1)],8,Q)])]))),128))],2)])):k("",!0),s("div",Y,[s("input",R({class:"appearance-none"},_,{onClick:a[1]||(a[1]=y(r=>l.value=!1,["stop"])),id:"phone_nubmer",type:"number",autocomplete:"off",placeholder:e.$t("labels.enterYourPhoneNumber")}),null,16,Z)])])],2),!i.valid&&i.touched?(n(),S(C,{key:0,name:u.name,as:"div",style:{color:"red"},class:"help is-danger"},null,8,["name"])):k("",!0)]),_:1},8,["name","modelValue"])])}}};export{oe as _};
