import{c as E,E as S,a as N,F as k}from"./vee-validate.esm.a5d21a4f.js";import{_ as F}from"./InputPhone.4aa3b671.js";import{_ as O}from"./InputPassword.625c3685.js";import{_ as q}from"./nuxt-link.d9db1e92.js";import{u as B,a as D,c as L,d as R,b as M}from"./entry.7aaca005.js";import{r as H,a as I,J as Y,K as z,L as a,U as r,H as l,Z as d,u as n,Q as h,I as b,X as w,a5 as j}from"./swiper-vue.6e12f478.js";import{u as J}from"./cookie.4132d486.js";import{u as K}from"./composables.61e7926a.js";import{c as Q,a as p,d as X,b as Z}from"./index.esm.83261b9e.js";import"./useAPILazyFetch.94301d64.js";const G={class:"auth_login"},W={class:"mb-4 xl:mb-8 w-full"},ee={class:"text-4xl xl:text-5xl capitalize font-bold leading-9"},oe={class:"text-base text-text-dark mt-3 block lg:max-w-[70%]"},ae={class:"register_form pb-11"},te={for:"name"},se=["placeholder"],ne={for:"email"},le=["placeholder"],re={class:"mb-2"},ie={class:"mb-2"},me={class:"mb-2"},de=["disabled"],pe={class:"mt-5 text-center text-secondary mb-0 font-sm"},$e={__name:"register",setup(ue){const i=B();D({title:i.t("NAV.newAccount")}),E({validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0});const v=L(),g=M(),V=R(),c=K(),o=H({name:null,email:null,phone:null,phone_code:null,password:null,confirmPassword:null}),x=I(null);function $(e){o.phone_code=e.phone_code,x.value=e.phone_number_limit}const A=Q({name:p().required(),email:p().email().required(),phone:X().required(),password:p().required(),confirmPassword:p().required().oneOf([Z("password")],i.t("labels.passwordDontMatch")).label(i.t("labels.confirmPasswordIsARequired"))});async function y(){const e=new FormData;e.append("full_name",o.name),e.append("email",o.email),e.append("password",o.password),e.append("password_confirmation",o.confirmPassword),e.append("phone",o.phone),e.append("phone_code",o.phone_code);const s=J("phoneToVerify",{maxAge:30*60});try{await $fetch(`${g.public.baseURL}client_web/register`,{method:"POST",body:e,headers:{Accept:"application/json",lang:i.locale.value,"Accept-Language":i.locale.value}}),s.value={phone:o.phone,phone_code:o.phone_code,type:"new"},v.push(c("/auth/verify"))}catch(m){V.error(m.response._data.message)}}return(e,s)=>{const m=S,_=N,P=F,f=O,T=k,U=q;return Y(),z("div",G,[a("form",{onSubmit:s[6]||(s[6]=j(()=>{},["prevent"])),class:"w-full md:max-w-xl md:mx-auto xl:mx-0"},[a("h1",W,[a("span",ee,r(e.$t("HEADERS.gettingStarted")),1),a("span",oe,r(e.$t("HEADERS.lookLikeYouAreNewToUsCreateAnAccountForACompleteExperience")),1)]),a("div",ae,[a("div",null,[l(T,{as:"div",onSubmit:y,"validation-schema":n(A)},{default:d(({meta:C})=>[a("form",null,[l(_,{name:"name",type:"text",modelValue:n(o).name,"onUpdate:modelValue":s[0]||(s[0]=t=>n(o).name=t)},{default:d(({meta:t,field:u})=>[a("div",{class:h(["input_wrapper",!t.valid&&t.touched?"error":""])},[a("label",te,r(e.$t("labels.name")),1),a("input",b({id:"name",name:"name"},u,{placeholder:e.$t("labels.enterYourName")}),null,16,se),l(m,{class:"text-red-500 text-sm",name:"name"})],2)]),_:2},1032,["modelValue"]),l(_,{name:"email",type:"email",modelValue:n(o).email,"onUpdate:modelValue":s[1]||(s[1]=t=>n(o).email=t)},{default:d(({meta:t,field:u})=>[a("div",{class:h(["input_wrapper",!t.valid&&t.touched?"error":""])},[a("label",ne,r(e.$t("labels.email")),1),a("input",b({id:"email",name:"email"},u,{placeholder:e.$t("labels.enterYourEmail")}),null,16,le),l(m,{class:"text-red-500 text-sm",name:"email"})],2)]),_:2},1032,["modelValue"]),a("div",re,[l(P,{onCode_change:s[2]||(s[2]=t=>$(t)),name:"phone",modelValue:n(o).phone,"onUpdate:modelValue":s[3]||(s[3]=t=>n(o).phone=t)},null,8,["modelValue"])]),a("div",ie,[l(f,{name:"password",modelValue:n(o).password,"onUpdate:modelValue":s[4]||(s[4]=t=>n(o).password=t)},null,8,["modelValue"])]),a("div",me,[l(f,{placeholder:e.$t("labels.enterTheConfirmationPassword"),name:"confirmPassword",modelValue:n(o).confirmPassword,"onUpdate:modelValue":s[5]||(s[5]=t=>n(o).confirmPassword=t)},null,8,["placeholder","modelValue"])]),a("button",{type:"submit",disabled:!C.valid,class:"base-btn w-full mt-11"},r(e.$t("BUTTONS.createNewAccount")),9,de)])]),_:1},8,["validation-schema"]),a("p",pe,[w(r(e.$t("labels.haveAnAccount"))+" ",1),l(U,{to:n(c)("/auth/login"),class:"text-primary ms-1 font-medium"},{default:d(()=>[w(r(e.$t("BUTTONS.login")),1)]),_:1},8,["to"])])])])],32)])}}};export{$e as default};
